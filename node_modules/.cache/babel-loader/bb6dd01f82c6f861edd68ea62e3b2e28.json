{"remainingRequest":"D:\\ht\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\ht\\app\\src\\store\\store.js","dependencies":[{"path":"D:\\ht\\app\\src\\store\\store.js","mtime":1605147185665},{"path":"D:\\ht\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147158029},{"path":"D:\\ht\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1605147157189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2h0L2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vICDnvJblhpl2dWV4IOebuOWFs+S7o+eggQovLyAxLiDkuIvovb0gdnVleAovLyAyLiDlvJXlhaUgdnVleAppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsgLy8g5byV5YWlIHZ1ZQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpWdWUudXNlKFZ1ZXgpOyAvLyAzLiDliJvlu7rku6PnoIHku5PlupPvvIzkv53lrZh2dWV45pWw5o2uCgp2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgLy8g54q25oCB77ya5YW25a6e5bCx5piv5LiA5Lqb5Y+Y6YeP77yM55So5p2l5L+d5a2Y5pWw5o2u55qE77yM5aaC5p6c57uE5Lu25Lit55So5Yiw5LqG6L+Z5Liq5Y+Y6YeP77yM5aaC5p6c6L+Z5Liq5Y+Y6YeP5pu05paw5LqG77yM6YKj5LmI57uE5Lu25bCx5Lya6Ieq5Yqo5pu05pawCiAgc3RhdGU6IHsKICAgIC8vIOi0reeJqei9puS4reeahOWVhuWTgeeUqOivpeaVsOe7hOaPj+i/sAogICAgY2FydDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpIHx8ICdbXScpCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyDojrflj5botK3nianovabkuK3miYDmnInllYblk4HnmoTmgLvku7cKICAgIGFsbE1vbmV5OiBmdW5jdGlvbiBhbGxNb25leShzdGF0ZSkgewogICAgICB2YXIgbSA9IDA7CiAgICAgIHZhciBsZW4gPSBzdGF0ZS5jYXJ0Lmxlbmd0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgZyA9IHN0YXRlLmNhcnRbaV07CiAgICAgICAgbSArPSBnLm51bSAqIGcucHJpY2U7CiAgICAgIH0KCiAgICAgIHJldHVybiBtOwogICAgfQogIH0sCiAgLy8gdnVleCDkuK0g5ZSv5LiA5pS55Y+YIHN0YXRlIOeahOaWueazlQogIC8vIOWwseebuOW9k+S6ju+8jOaJp+ihjCBtdXRhdGlvbnMg5Lit55qE5p+Q5Liq5pa55rOV5pe25pu05pawc3Rhc2XkuK3nmoTmn5DkuKrmlbDmja4KICBtdXRhdGlvbnM6IHsKICAgIC8vIHN0YXRl5ZKMbXV0YXRpb25z5piv5YWz6ZSu5a2XIOW/hemhu+i/meS5iOWOu+WGmQogICAgLy8gY2FydCDlkowgYWRkVG9DYXJ0IOaYr+iHquW3seWumuS5ieeahOWxnuaAp+WSjOaWueazle+8jOWPr+S7peiHquW3semaj+S+v+WGmQogICAgLy8g5ZyoIGFkZFRvQ2FydCDkuK3vvIzmnInkuKTkuKrns7vnu5/oh6rluKbnmoTlj4LmlbDvvIzliIbliKvmmK8gc3RhdGXvvIxwYXlsb2FkCiAgICAvLyBzdGF0ZSDmjIflvZPliY3nmoQgc3RvcmUg5LuT5bqT5Lit55qEIHN0YXRl5a+56LGh77yM6YCa6L+H5LuW5bCx5Y+v5Lul6I635Y+WIGNhcnQg5pWw5o2uCiAgICAvLyBwYXlsb2FkIOaMh+S9v+eUqCBhZGRUb0NhcnTlh73mlbDml7bvvIzkvKDlhaXliLDlh73mlbDkuK3nmoTlj4LmlbDvvIxwYXlsb2Fk57+76K+R6L+H5p2l5Y+r5YGa5pyJ5pWI6L296I2377yM5YW25a6e5bCx5piv5Y+C5pWwCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvLyDmiorkvKDov4fmnaXnmoTlj4LmlbDov73liqDnmoQgY2FydCDmlbDnu4TlvZPkuK0KICAgICAgLy8gY29uc29sZS5sb2coJ211dGF0aW9ucy0+cGF5bG9hZCcscGF5bG9hZCkKICAgICAgc3RhdGUuY2FydC5wdXNoKHBheWxvYWQpOyAvLyBjb25zb2xlLmxvZyhzdGF0ZS5jYXJ0KQogICAgfSwKICAgIC8vIOWmguaenOWtmOWcqO+8jOWImei0reeJqei9puS4reivpeWVhuWTgeaVsOmHjysxCiAgICBqaWE6IGZ1bmN0aW9uIGppYShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jYXJ0W3BheWxvYWRdLm51bSsrOwogICAgfSwKICAgIC8vIOeCueWHu+aMiemSruWHj+WwkeaVsOmHjwogICAgamlhbjogZnVuY3Rpb24gamlhbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jYXJ0W3BheWxvYWRdLm51bS0tOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsOiBmdW5jdGlvbiBkZWwoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuY2FydC5zcGxpY2UocGF5bG9hZCwgMSk7CiAgICB9CiAgfSwKICAvLyB2dWV4IOW7uuiuruaIkeS7rOaKiiDlvILmraXku6PnoIEg5ZKMIOS4muWKoemAu+i+kSDku6PnoIHlhpnlnKggYWN0aW9ucyDkuK3vvIznhLblkI4gYWN0aW9ucyDosIPnlKggbXV0YXRpb24g5Lit55qE5Ye95pWwCiAgYWN0aW9uczogewogICAgLy8g5Zue6LCD5Ye95pWw5Lit6Ieq5bim5Lik5Liq5Y+C5pWw77yM5YiG5Yir5pivIGNvbnRleHQg5ZKMIHBheWxvYWQKICAgIC8vIGNvbnRleHQg6KGo56S65LiK5LiL5paH5a+56LGh77yM6YeM6Z2i5YW35pyJIGNvbW1pdCDmlrnms5XvvIzljbPlnKhhY3Rpb25z5Lit77yM5aaC5L2V6LCD55SoIG11dGF0aW9uc+S4reeahOaWueazlQogICAgLy8gcGF5bG9hZCDooajnpLrmnInmlYjovb3ojbcg5YW25a6e5bCx5piv5Y+C5pWwCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAgIC8vIOWIpOaWreW9k+WJjeWVhuWTgeaYr+WQpuWcqOi0reeJqei9puS4reWtmOWcqOeahAogICAgICAvLyBjb250ZXh0LnN0YXRlLmNhcnQg6I635Y+WIHN0YXRlIOeahCBjYXJ0IOS4reaVsOaNrgogICAgICAvLyBmaW5kSW5kZXgg5a+55pWw5o2u6L+b6KGM5p+l6K+i77yM6L+U5Zue5Yy56YWN5oiQ5ZGY55qE5LiL5qCH77yMcGF5bG9hZOaYr+W9k+WJjeeUqOaIt+aJgOmAieeahOWVhuWTgQogICAgICAvLyAg5b6q546v5pe25p+l6K+i5p2h5Lu25Li6IOWIpOaWreWVhuWTgeeahOe8luWPt+aYr+WQpuebuOWQjO+8jAogICAgICAvLyDnm7jlkIw9PiDooajnpLrlnKjotK3nianovabkuK3vvIzmib7liLDkuobor6XllYblk4HvvIxmaW5kSW5kZXgg6L+U5Zue5YW25LiL5qCH77yMCiAgICAgIHZhciBpbmQgPSBjb250ZXh0LnN0YXRlLmNhcnQuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHBheWxvYWQuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZCA9PT0gLTEpIHsKICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmioror6XllYblk4Hmt7vliqDliLDotK3nianovabkuK3vvIzmlbDph4/kuLoxCiAgICAgICAgLy8g6LCD55So5LqGbXV0YXRpb25z5Lit55qE5pa55rOVCiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZFRvQ2FydCcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGF5bG9hZCksIHt9LCB7CiAgICAgICAgICBudW06IDEKICAgICAgICB9KSk7IC8vIGNvbnNvbGUubG9nKCdhY3Rpb25zLT5wYXlsb2FkJyxwYXlsb2FkKQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOWtmOWcqO+8jOWImei0reeJqei9puS4reivpeWVhuWTgeaVsOmHjysxCiAgICAgICAgY29udGV4dC5jb21taXQoJ2ppYScsIGluZCk7CiAgICAgIH0KICAgIH0sCiAgICBqaWFuOiBmdW5jdGlvbiBqaWFuKGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgdmFyIGluZCA9IGNvbnRleHQuc3RhdGUuY2FydC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gcGF5bG9hZC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoaW5kID09PSAtMSkgey8vIOS4jeWtmOWcqAogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOWtmOWcqO+8jOWImei0reeJqei9puS4reivpeWVhuWTgeaVsOmHjy0xCiAgICAgICAgLy8g5aaC5p6c5ZWG5ZOB5pWw6YePIDw9MCDml7YKICAgICAgICBpZiAoY29udGV4dC5zdGF0ZS5jYXJ0W2luZF0ubnVtIC0gMSA8PSAwKSB7CiAgICAgICAgICAvLyDliKDpmaQKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdkZWwnLCBpbmQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAtMQogICAgICAgICAgY29udGV4dC5jb21taXQoJ2ppYW4nLCBpbmQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfSk7IC8vIFZ1ZXgg55qE6K6i6ZiF5LqL5Lu2IAovLyDmr4/mrKHmiafooYwgbXV0YXRpb25zIOWQjiDor6Xlh73mlbDkvJroh6rliqjop6blj5EKCnN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CiAgLy8g5pWw5o2u5oyB5LmF5YyWCiAgLy8g5oqKIHZ1ZXgg5Lit55qEIHN0YXRlLmNhcnQg5pWw5o2u5L+d5a2Y5YiwIHN0b3JhZ2Ug5LitCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShzdG9yZS5zdGF0ZS5jYXJ0KSk7Cn0pOyAvLyA0LiDmiorku6PnoIHku5PlupPmipvlh7oKCmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"sources":["D:/ht/app/src/store/store.js"],"names":["Vuex","Vue","use","store","Store","state","cart","JSON","parse","localStorage","getItem","getters","allMoney","m","len","length","i","g","num","price","mutations","addToCart","payload","push","jia","jian","del","splice","actions","context","ind","findIndex","item","id","commit","subscribe","setItem","stringify"],"mappings":"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","sourcesContent":["//  编写vuex 相关代码\r\n\r\n// 1. 下载 vuex\r\n\r\n// 2. 引入 vuex\r\nimport Vuex from 'vuex';\r\n\r\n// 引入 vue\r\nimport Vue from 'vue';\r\nVue.use(Vuex)\r\n\r\n// 3. 创建代码仓库，保存vuex数据\r\nconst store = new Vuex.Store({\r\n    // 状态：其实就是一些变量，用来保存数据的，如果组件中用到了这个变量，如果这个变量更新了，那么组件就会自动更新\r\n    state:{\r\n        // 购物车中的商品用该数组描述\r\n        cart:JSON.parse(localStorage.getItem('cart') || '[]')\r\n    },\r\n    getters:{\r\n        // 获取购物车中所有商品的总价\r\n        allMoney(state){\r\n            var m = 0;\r\n            var len = state.cart.length;\r\n            for(var i=0;i<len;i++){\r\n                var g = state.cart[i];\r\n                m += g.num * g.price;\r\n            }\r\n            return m\r\n        }\r\n    },\r\n    // vuex 中 唯一改变 state 的方法\r\n    // 就相当于，执行 mutations 中的某个方法时更新stase中的某个数据\r\n    mutations:{\r\n        // state和mutations是关键字 必须这么去写\r\n        // cart 和 addToCart 是自己定义的属性和方法，可以自己随便写\r\n        // 在 addToCart 中，有两个系统自带的参数，分别是 state，payload\r\n        // state 指当前的 store 仓库中的 state对象，通过他就可以获取 cart 数据\r\n        // payload 指使用 addToCart函数时，传入到函数中的参数，payload翻译过来叫做有效载荷，其实就是参数\r\n        addToCart(state,payload){\r\n            // 把传过来的参数追加的 cart 数组当中\r\n            // console.log('mutations->payload',payload)\r\n            state.cart.push(payload)\r\n            // console.log(state.cart)\r\n        },\r\n        // 如果存在，则购物车中该商品数量+1\r\n        jia(state,payload){\r\n            state.cart[payload].num++;\r\n        },\r\n        // 点击按钮减少数量\r\n        jian(state,payload){\r\n            state.cart[payload].num--;\r\n        },\r\n        // 删除\r\n        del(state,payload){\r\n            state.cart.splice(payload,1)\r\n        }\r\n\r\n    },\r\n    // vuex 建议我们把 异步代码 和 业务逻辑 代码写在 actions 中，然后 actions 调用 mutation 中的函数\r\n    actions:{\r\n        // 回调函数中自带两个参数，分别是 context 和 payload\r\n        // context 表示上下文对象，里面具有 commit 方法，即在actions中，如何调用 mutations中的方法\r\n        // payload 表示有效载荷 其实就是参数\r\n        addToCart(context,payload){\r\n            // 判断当前商品是否在购物车中存在的\r\n            // context.state.cart 获取 state 的 cart 中数据\r\n            // findIndex 对数据进行查询，返回匹配成员的下标，payload是当前用户所选的商品\r\n            //  循环时查询条件为 判断商品的编号是否相同，\r\n            // 相同=> 表示在购物车中，找到了该商品，findIndex 返回其下标，\r\n            var ind = context.state.cart.findIndex(item=>item.id===payload.id)\r\n            if(ind === -1){\r\n                // 如果不存在，则把该商品添加到购物车中，数量为1\r\n                // 调用了mutations中的方法\r\n                context.commit('addToCart',{...payload,num:1});\r\n                // console.log('actions->payload',payload)\r\n            }else{\r\n                // 如果存在，则购物车中该商品数量+1\r\n                context.commit('jia',ind);\r\n            }\r\n        },\r\n        jian(context,payload){\r\n            var ind = context.state.cart.findIndex(item=>item.id===payload.id)\r\n            if(ind === -1){\r\n                // 不存在\r\n            }else{\r\n                // 如果存在，则购物车中该商品数量-1\r\n                // 如果商品数量 <=0 时\r\n                if(context.state.cart[ind].num-1 <= 0){\r\n                    // 删除\r\n                    context.commit('del',ind);\r\n                }else{\r\n                    // -1\r\n                    context.commit('jian',ind);\r\n                }\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// Vuex 的订阅事件 \r\n// 每次执行 mutations 后 该函数会自动触发\r\nstore.subscribe(()=>{\r\n    // 数据持久化\r\n    // 把 vuex 中的 state.cart 数据保存到 storage 中\r\n    localStorage.setItem('cart',JSON.stringify(store.state.cart))\r\n})\r\n\r\n// 4. 把代码仓库抛出\r\nexport default store;"]}]}